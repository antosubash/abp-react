"use strict";(self.webpackChunkabp_react=self.webpackChunkabp_react||[]).push([[630],{8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>a});var s=i(6540);const t={},o=s.createContext(t);function r(n){const e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),s.createElement(o.Provider,{value:e},n.children)}},9811:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"fundamentals/configuration","title":"Configuration","description":"Overview","source":"@site/docs/fundamentals/configuration.md","sourceDirName":"fundamentals","slug":"/fundamentals/configuration","permalink":"/abp-react/docs/fundamentals/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/antosubash/abp-react/tree/main/docs/docs/fundamentals/configuration.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Admin Interface","permalink":"/abp-react/docs/fundamentals/admin-interface"},"next":{"title":"Content Management System (CMS)","permalink":"/abp-react/docs/fundamentals/cms"}}');var t=i(4848),o=i(8453);const r={sidebar_position:5},a="Configuration",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Required Variables",id:"required-variables",level:3},{value:"Optional Variables",id:"optional-variables",level:3},{value:"Client Configuration",id:"client-configuration",level:2},{value:"Session Configuration",id:"session-configuration",level:2},{value:"API Client Configuration",id:"api-client-configuration",level:2},{value:"Development Configuration",id:"development-configuration",level:2},{value:"Next.js Configuration",id:"nextjs-configuration",level:3},{value:"TypeScript Configuration",id:"typescript-configuration",level:3},{value:"Production Configuration",id:"production-configuration",level:2},{value:"Docker Configuration",id:"docker-configuration",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Related Components",id:"related-components",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,t.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(e.p,{children:"ABP React provides a flexible configuration system that allows you to customize various aspects of the application. This guide explains the different configuration options and how to use them."}),"\n",(0,t.jsx)(e.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,t.jsx)(e.h3,{id:"required-variables",children:"Required Variables"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-env",children:"NEXT_PUBLIC_API_URL=your-api-url\nNEXT_PUBLIC_CLIENT_ID=your-client-id\nNEXT_PUBLIC_SCOPE=your-scope\nNEXT_PUBLIC_APP_URL=your-app-url\nSESSION_PASSWORD=your-session-password\n"})}),"\n",(0,t.jsx)(e.h3,{id:"optional-variables",children:"Optional Variables"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-env",children:"NEXT_PUBLIC_UMAMI_SCRIPT_URL=your-umami-script-url\nNEXT_PUBLIC_UMAMI_WEBSITE_ID=your-umami-website-id\n"})}),"\n",(0,t.jsx)(e.h2,{id:"client-configuration",children:"Client Configuration"}),"\n",(0,t.jsxs)(e.p,{children:["The main client configuration is defined in ",(0,t.jsx)(e.code,{children:"config.ts"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"export const clientConfig = {\n  url: process.env.NEXT_PUBLIC_API_URL,\n  audience: process.env.NEXT_PUBLIC_API_URL,\n  client_id: process.env.NEXT_PUBLIC_CLIENT_ID,\n  scope: process.env.NEXT_PUBLIC_SCOPE,\n  redirect_uri: `${process.env.NEXT_PUBLIC_APP_URL}/auth/openiddict`,\n  post_logout_redirect_uri: `${process.env.NEXT_PUBLIC_APP_URL}`,\n  response_type: 'code',\n  grant_type: 'authorization_code',\n  post_login_route: `${process.env.NEXT_PUBLIC_APP_URL}`,\n  code_challenge_method: 'S256'\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"session-configuration",children:"Session Configuration"}),"\n",(0,t.jsxs)(e.p,{children:["Session settings are configured in ",(0,t.jsx)(e.code,{children:"sessionOptions.ts"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"export const sessionOptions: SessionOptions = {\n  password: process.env.SESSION_PASSWORD || 'complex_password_at_least_32_characters_long',\n  cookieName: 'abp-react-session-id',\n  cookieOptions: {\n    secure: process.env.NODE_ENV === 'production',\n  },\n  ttl: 60 * 60 * 24 * 7, // 1 week\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"api-client-configuration",children:"API Client Configuration"}),"\n",(0,t.jsx)(e.p,{children:"The API client is configured to handle authentication and tenant context:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"APIClient.setConfig({\n  baseUrl: typeof window !== 'undefined' ? '' : process.env.NEXT_PUBLIC_API_URL!,\n})\n\nAPIClient.interceptors.request.use(async (options) => {\n  const session = await getSession()\n  options.headers.set('Authorization', `Bearer ${session.access_token}`)\n  options.headers.set('__tenant', session.tenantId ?? '')\n  return options\n})\n"})}),"\n",(0,t.jsx)(e.h2,{id:"development-configuration",children:"Development Configuration"}),"\n",(0,t.jsx)(e.h3,{id:"nextjs-configuration",children:"Next.js Configuration"}),"\n",(0,t.jsx)(e.p,{children:"The application uses Next.js 13+ with the App Router. Key configurations include:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Server components by default"}),"\n",(0,t.jsx)(e.li,{children:"API routes in the app directory"}),"\n",(0,t.jsx)(e.li,{children:"Middleware for request handling"}),"\n",(0,t.jsx)(e.li,{children:"Environment variable handling"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"typescript-configuration",children:"TypeScript Configuration"}),"\n",(0,t.jsx)(e.p,{children:"TypeScript is configured with strict mode and modern features:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "es5",\n    "lib": ["dom", "dom.iterable", "esnext"],\n    "allowJs": true,\n    "skipLibCheck": true,\n    "strict": true,\n    "forceConsistentCasingInFileNames": true,\n    "noEmit": true,\n    "esModuleInterop": true,\n    "module": "esnext",\n    "moduleResolution": "node",\n    "resolveJsonModule": true,\n    "isolatedModules": true,\n    "jsx": "preserve",\n    "incremental": true,\n    "plugins": [\n      {\n        "name": "next"\n      }\n    ],\n    "paths": {\n      "@/*": ["./src/*"]\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"production-configuration",children:"Production Configuration"}),"\n",(0,t.jsx)(e.h3,{id:"docker-configuration",children:"Docker Configuration"}),"\n",(0,t.jsx)(e.p,{children:"The application includes Docker configuration for production deployment:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-dockerfile",children:'FROM node:18-alpine AS base\n\n# Install dependencies only when needed\nFROM base AS deps\nRUN apk add --no-cache libc6-compat\nWORKDIR /app\n\n# Install dependencies based on the preferred package manager\nCOPY package.json pnpm-lock.yaml* ./\nRUN pnpm install --frozen-lockfile\n\n# Rebuild the source code only when needed\nFROM base AS builder\nWORKDIR /app\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY . .\n\n# Next.js collects completely anonymous telemetry data about general usage.\n# Learn more here: https://nextjs.org/telemetry\n# Uncomment the following line in case you want to disable telemetry during the build.\nENV NEXT_TELEMETRY_DISABLED 1\n\nRUN pnpm build\n\n# Production image, copy all the files and run next\nFROM base AS runner\nWORKDIR /app\n\nENV NODE_ENV production\nENV NEXT_TELEMETRY_DISABLED 1\n\nRUN addgroup --system --gid 1001 nodejs\nRUN adduser --system --uid 1001 nextjs\n\nCOPY --from=builder /app/public ./public\n\n# Set the correct permission for prerender cache\nRUN mkdir .next\nRUN chown nextjs:nodejs .next\n\n# Automatically leverage output traces to reduce image size\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\n\nUSER nextjs\n\nEXPOSE 3000\n\nENV PORT 3000\nENV HOSTNAME "0.0.0.0"\n\nCMD ["node", "server.js"]\n'})}),"\n",(0,t.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Environment Variables"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Use descriptive names"}),"\n",(0,t.jsx)(e.li,{children:"Document all variables"}),"\n",(0,t.jsx)(e.li,{children:"Provide default values when appropriate"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Security"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Keep sensitive data in environment variables"}),"\n",(0,t.jsx)(e.li,{children:"Use secure session configuration"}),"\n",(0,t.jsx)(e.li,{children:"Implement proper CORS settings"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Performance"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Optimize build configuration"}),"\n",(0,t.jsx)(e.li,{children:"Use proper caching strategies"}),"\n",(0,t.jsx)(e.li,{children:"Implement proper error handling"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"related-components",children:"Related Components"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"/docs/fundamentals/authentication",children:"Authentication"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"/docs/fundamentals/session-management",children:"Session Management"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"/docs/fundamentals/multi-tenancy",children:"Multi-tenancy"})}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}}}]);