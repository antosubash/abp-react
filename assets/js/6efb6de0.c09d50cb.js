"use strict";(self.webpackChunkabp_react=self.webpackChunkabp_react||[]).push([[904],{3905:(t,e,n)=>{n.d(e,{Zo:()=>s,kt:()=>f});var a=n(7294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c=a.createContext({}),l=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},s=function(t){var e=l(t.components);return a.createElement(c.Provider,{value:e},t.children)},p="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},h=a.forwardRef((function(t,e){var n=t.components,i=t.mdxType,o=t.originalType,c=t.parentName,s=u(t,["components","mdxType","originalType","parentName"]),p=l(n),h=i,f=p["".concat(c,".").concat(h)]||p[h]||d[h]||o;return n?a.createElement(f,r(r({ref:e},s),{},{components:n})):a.createElement(f,r({ref:e},s))}));function f(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var o=n.length,r=new Array(o);r[0]=h;var u={};for(var c in e)hasOwnProperty.call(e,c)&&(u[c]=e[c]);u.originalType=t,u[p]="string"==typeof t?t:i,r[1]=u;for(var l=2;l<o;l++)r[l]=n[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6790:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>u,toc:()=>l});var a=n(7462),i=(n(7294),n(3905));const o={sidebar_position:1},r="Authentication",u={unversionedId:"fundamentals/authentication",id:"fundamentals/authentication",title:"Authentication",description:"Introduction",source:"@site/docs/fundamentals/authentication.md",sourceDirName:"fundamentals",slug:"/fundamentals/authentication",permalink:"/AbpReact/docs/fundamentals/authentication",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/fundamentals/authentication.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Fundamentals",permalink:"/AbpReact/docs/category/fundamentals"},next:{title:"Next.js Middleware",permalink:"/AbpReact/docs/fundamentals/middleware"}},c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"NextAuth.js",id:"nextauthjs",level:2},{value:"Authentication Flow",id:"authentication-flow",level:2},{value:"OpenID Connect",id:"openid-connect",level:2},{value:"NextAuth.js Configuration",id:"nextauthjs-configuration",level:2}],s={toc:l},p="wrapper";function d(t){let{components:e,...n}=t;return(0,i.kt)(p,(0,a.Z)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"authentication"},"Authentication"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"This guide will explain how the authentication works in ABP React."),(0,i.kt)("h2",{id:"nextauthjs"},"NextAuth.js"),(0,i.kt)("p",null,"NextAuth.js is a library that provides authentication for Next.js applications. It supports multiple authentication providers. We will use it to handle the authentication in ABP React. You can find more details about NextAuth.js ",(0,i.kt)("a",{parentName:"p",href:"https://next-auth.js.org/"},"here"),"."),(0,i.kt)("h2",{id:"authentication-flow"},"Authentication Flow"),(0,i.kt)("p",null,"The authentication flow is as follows:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The user clicks on the login button."),(0,i.kt)("li",{parentName:"ol"},"The user is redirected to the login page."),(0,i.kt)("li",{parentName:"ol"},"The user enters the credentials and clicks on the login button."),(0,i.kt)("li",{parentName:"ol"},"The user is redirected to the callback page."),(0,i.kt)("li",{parentName:"ol"},"The user is redirected to the home page.")),(0,i.kt)("p",null,"This flow is the same for all the authentication providers. We will setup a custom authentication provider in the next-auth because there is no provider for OpenIddict yet. You can find more details about the authentication flow ",(0,i.kt)("a",{parentName:"p",href:"https://next-auth.js.org/getting-started/client#authentication-flow"},"here"),"."),(0,i.kt)("h2",{id:"openid-connect"},"OpenID Connect"),(0,i.kt)("p",null,"To set up the authentication, you need to set up an OpenID Connect server.\nAbp Application uses ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/openiddict/openiddict-core"},"OpenIddict")," for authentication. You have to create an client with the authorization code flow. Make sure to set the redirect uri to ",(0,i.kt)("inlineCode",{parentName:"p"},"http://localhost:3000/api/auth/callback/openiddict"),". You can find more details about the OpenIddict configuration ",(0,i.kt)("a",{parentName:"p",href:"https://docs.abp.io/en/abp/latest/Authentication/OpenId-Connect"},"here"),"."),(0,i.kt)("h2",{id:"nextauthjs-configuration"},"NextAuth.js Configuration"),(0,i.kt)("p",null,"NextAuth.js is configured in the ",(0,i.kt)("inlineCode",{parentName:"p"},"/pages/api/auth/[...nextauth].ts")," api endpoint. You can find the file in the api directory of the abp app folder. You can find more details about the configuration ",(0,i.kt)("a",{parentName:"p",href:"https://next-auth.js.org/configuration/initialization"},"here"),"."))}d.isMDXComponent=!0}}]);